"use strict";(self.webpackChunkgoose_track=self.webpackChunkgoose_track||[]).push([[869],{5869:function(e,a,r){r.r(a),r.d(a,{default:function(){return Z}});var n=r(5861),s=r(9439),t=r(4687),o=r.n(t),l=r(2791),i=r(9230),m=r(9434),c=r(4746),_=r(6129),u=r(2426),d=r.n(u),h=r(5705),p=r(6727),f=p.Ry().shape({userName:p.Z_().min(3,"Too Short!").max(36,"Too Long!").required("Required!"),email:p.Z_().email("Invalid email!").required("Required!"),phone:p.Z_().matches(/^\+380\d{9}$/,"Phone number must be in the format +380XXXXXXXXX"),telegram:p.Z_().matches(/^[a-zA-Z0-9_@]*$/,"value contains only latin letters, numbers, underscore and @ symbol"),avatar:p.Z_("Invalid avatar"),birthday:p.hT()}),b={user_page:"UserForm_user_page__OSnBJ",user_page__avatar_container:"UserForm_user_page__avatar_container__xIxKy",user_page__avatar:"UserForm_user_page__avatar__Bb4+p",avatar_upload_btn:"UserForm_avatar_upload_btn__MwXPu",user_page__name:"UserForm_user_page__name__NIbTD",user_page__role:"UserForm_user_page__role__hDbaG",username_form:"UserForm_username_form__wx7ff",username_form__label:"UserForm_username_form__label__cRRT9",username_form_input:"UserForm_username_form_input__nlkZB",is_invalid:"UserForm_is_invalid__N+24u","username_form-input--last":"UserForm_username_form-input--last__eAwJw",username_form__submit:"UserForm_username_form__submit__WE7DY","username__form-submit":"UserForm_username__form-submit__6GbYU",invalid_feedback:"UserForm_invalid_feedback__L8atv",date_picker:"UserForm_date_picker__NVr4K"};var v=r.p+"static/media/ph_user.24aa63a90eb019bd4fe5b5f4ba8aaf48.svg",g=r(1413),N=r(9513),y=r.n(N),x=r(184),j=(new Date).toISOString().split("T")[0],k=function(e){e.name;var a=e.birthday,r=(0,h.U$)("date"),n=(0,s.Z)(r,3),t=n[0],o=n[1],i=n[2],m=o.value,c=i.setValue,_=(0,l.useState)(d()()),u=(0,s.Z)(_,2),p=u[0],f=u[1],b=(0,l.useCallback)((function(e){var a=d()(e).format("dddd");return"Saturday"===a||"Sunday"===a}),[]),v=(0,l.useCallback)((function(e){var a=[],r=d()(p).startOf("month"),n=d()(p).endOf("month");return(d()(e).isBefore(r)||d()(e).isAfter(n))&&a.push("outside-month"),b(e)&&a.push("highlighted-weekend"),a.join(" ")}),[p,b]),N=(0,l.useCallback)((function(e){f(d()(e))}),[]),k=(0,l.useCallback)((function(){f(m||new Date(a||j))}),[m,a]);return(0,x.jsx)(y(),(0,g.Z)((0,g.Z)({},t),{},{selected:m||new Date(a||j),onChange:function(e){return c(e)},onMonthChange:N,dayClassName:v,calendarStartDay:1,placeholderText:a||"Choose a date",formatWeekDay:function(e){return e.charAt(0)},showPopperArrow:!1,onCalendarClose:k}))},F=r(1686),U=["userName","email","birthday","phone","telegram"],w=r(7369),S=function(){var e=(0,i.$G)().t,a=(0,m.I0)(),r=(0,m.v9)(c.mE),t=(0,l.useState)(null),u=(0,s.Z)(t,2),p=u[0],g=u[1],N=(0,l.useState)(null),y=(0,s.Z)(N,2),j=y[0],S=y[1],Z={phone:r.phone||"",telegram:r.telegram||"",userName:r.userName,email:r.email,birthday:r.birthday,avatarUpload:!1},C=function(){var r=(0,n.Z)(o().mark((function r(n){var s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=new FormData,U.forEach((function(e){if(n[e])if("birthday"!==e)s.append(e,n[e]);else{var a=d()(n[e]).format("YYYY-MM-DD");s.append("birthday",a)}})),j&&s.append("avatar",j),r.prev=3,r.next=6,a((0,_.Lj)(s));case 6:F.Notify.success(e("notify.Success.Info updated.")),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(3),console.log(r.t0),F.Notify.error(e("notify.Error.Something gone wrong."));case 13:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(e){return r.apply(this,arguments)}}();return(0,x.jsx)("section",{className:"".concat(b.user_page),children:(0,x.jsx)(h.J9,{initialValues:Z,validationSchema:f,onSubmit:C,enableReinitialize:!0,children:function(a){var n=a.isSubmitting,s=a.touched,t=a.dirty,o=a.errors,l=a.values,i=a.setFieldTouched,m=a.setFieldValue;return(0,x.jsx)(w.Z,{errors:o,touched:s,setFieldTouched:i,children:(0,x.jsxs)(h.l0,{children:[(0,x.jsxs)("div",{className:"".concat(b.user_page__avatar_container),children:[(0,x.jsx)("img",{className:"".concat(b.user_page__avatar),src:p||r.avatar||v,alt:"User Avatar"}),(0,x.jsxs)("div",{className:"".concat(b.avatar_upload_container),children:[(0,x.jsx)(h.gN,{id:"avatar-upload",name:"avatar",type:"file",accept:"image/*",onChange:function(e){return function(e,a){var r=e.target.files[0];S(r);var n=new FileReader,s=new Blob([r],{type:r.type});n.readAsDataURL(s),n.onload=function(){g(n.result),a("avatar-upload",!!r)}}(e,m)},style:{display:"none"}}),(0,x.jsx)("label",{htmlFor:"avatar-upload",className:"".concat(b.avatar_upload_btn)})]}),(0,x.jsx)("h3",{className:"".concat(b.user_page__name),children:r.userName||e("Username")}),(0,x.jsx)("p",{className:"".concat(b.user_page__role),children:e("User")})]}),(0,x.jsxs)("div",{className:"".concat(b.username_form),children:[(0,x.jsxs)("label",{htmlFor:"userName",className:"".concat(b.username_form__label),children:[e("Username"),(0,x.jsx)(h.gN,{name:"userName",type:"text",className:"".concat(b.username_form_input)+(o.userName&&s.userName?b.is_invalid:""),placeholder:e("Username")}),o.userName&&(0,x.jsx)("div",{className:b.invalid_feedback,children:e("errors.".concat(o.userName))})]}),(0,x.jsxs)("label",{htmlFor:"birthday",className:"".concat(b.username_form__label),children:[e("Birthday"),":",(0,x.jsx)(k,{name:"birthday",birthday:l.birthday,className:b.my_date_picker}),o.birthday&&(0,x.jsx)("div",{className:b.invalid_feedback,children:e("errors.".concat(o.birthday))})]}),(0,x.jsxs)("label",{htmlFor:"email",className:"".concat(b.username_form__label),children:[e("Email"),(0,x.jsx)(h.gN,{name:"email",type:"email",className:"".concat(b.username_form_input)}),o.email&&(0,x.jsx)("div",{className:b.invalid_feedback,children:e("errors.".concat(o.email))})]}),(0,x.jsxs)("label",{htmlFor:"phone",className:"".concat(b.username_form__label),children:[e("Phone"),":",(0,x.jsx)(h.gN,{className:"".concat(b.username_form_input),id:"phone",name:"phone",type:"text",placeholder:e("Enter your phone")}),o.phone&&(0,x.jsx)("div",{className:b.invalid_feedback,children:e("errors.".concat(o.phone))})]}),(0,x.jsxs)("label",{htmlFor:"telegram",className:"".concat(b.username_form__label),children:[e("Telegram"),":",(0,x.jsx)(h.gN,{className:"".concat(b.username_form_input),id:"telegram",name:"telegram",type:"text",placeholder:e("Enter your Telegram link")}),o.telegram&&(0,x.jsx)("div",{className:b.invalid_feedback,children:e("errors.".concat(o.telegram))})]}),(0,x.jsx)("button",{type:"submit",className:"".concat(b.username_form__submit),disabled:n||!s||!t,children:e("Save \u0441hanges")})]})]})})}})})};function Z(){return(0,x.jsx)(S,{})}}}]);
//# sourceMappingURL=869.08922cd1.chunk.js.map