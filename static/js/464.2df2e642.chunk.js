"use strict";(self.webpackChunkgoose_track=self.webpackChunkgoose_track||[]).push([[464],{4464:function(e,a,n){n.r(a),n.d(a,{default:function(){return w}});var r=n(5861),t=n(9439),s=n(4687),c=n.n(s),o=n(2791),l=n(9230),_=n(9434),i=n(4746),u=n(6129),m=n(2426),d=n.n(m),p=n(5705),h=n(6727),f=h.Ry().shape({userName:h.Z_().min(3,"Too Short!").max(36,"Too Long!").required("Required"),email:h.Z_().email("Invalid email").required("Required"),phone:h.Z_().matches(/^\+380\d{9}$/,"Phone number must be in the format +380XXXXXXXXX"),telegram:h.Z_().matches(/^[a-zA-Z0-9_@]*$/,'value contains only latin letters, numbers, underscore and "@" symbol'),avatar:h.Z_("Invalid avatar"),birthday:h.hT()}),g={user_page:"accountPage_user_page__2b2f0",user_page__avatar_container:"accountPage_user_page__avatar_container__x8xHg",user_page__avatar:"accountPage_user_page__avatar__X7iSu",avatar_upload_btn:"accountPage_avatar_upload_btn__c0sNy",user_page__name:"accountPage_user_page__name__jpU+G",user_page__role:"accountPage_user_page__role__P3cpO",username_form:"accountPage_username_form__6g2oi",username_form__label:"accountPage_username_form__label__Zr8sg",username_form_input:"accountPage_username_form_input__UFHqo",is_invalid:"accountPage_is_invalid__Tz6E4","username_form-input--last":"accountPage_username_form-input--last__H1Ue1",username_form__submit:"accountPage_username_form__submit__9Vc2l","username__form-submit":"accountPage_username__form-submit__R8lsZ",invalid_feedback:"accountPage_invalid_feedback__xwEBF",date_picker:"accountPage_date_picker__Zbqb-"};var b=n.p+"static/media/ph_user.24aa63a90eb019bd4fe5b5f4ba8aaf48.svg",v=n(1413),N=n(9513),x=n.n(N),y=n(184),j=(new Date).toISOString().split("T")[0],k=function(e){e.name;var a=e.birthday,n=(0,p.U$)("date"),r=(0,t.Z)(n,3),s=r[0],c=r[1],l=r[2],_=c.value,i=l.setValue,u=(0,o.useState)(d()()),m=(0,t.Z)(u,2),h=m[0],f=m[1],g=(0,o.useCallback)((function(e){var a=d()(e).format("dddd");return"Saturday"===a||"Sunday"===a}),[]),b=(0,o.useCallback)((function(e){var a=[],n=d()(h).startOf("month"),r=d()(h).endOf("month");return(d()(e).isBefore(n)||d()(e).isAfter(r))&&a.push("outside-month"),g(e)&&a.push("highlighted-weekend"),a.join(" ")}),[h,g]),N=(0,o.useCallback)((function(e){f(d()(e))}),[]),k=(0,o.useCallback)((function(){f(_||new Date(a||j))}),[_,a]);return(0,y.jsx)(x(),(0,v.Z)((0,v.Z)({},s),{},{selected:_||new Date(a||j),onChange:function(e){return i(e)},onMonthChange:N,dayClassName:b,calendarStartDay:1,placeholderText:a||"Choose a date",formatWeekDay:function(e){return e.charAt(0)},showPopperArrow:!1,onCalendarClose:k}))},P=n(1686),S=["userName","email","birthday","phone","telegram"],Z=function(){var e=(0,l.$G)().t,a=(0,_.I0)(),n=(0,_.v9)(i.mE),s=(0,o.useState)(null),m=(0,t.Z)(s,2),h=m[0],v=m[1],N=(0,o.useState)(null),x=(0,t.Z)(N,2),j=x[0],Z=x[1],w={phone:n.phone||"",telegram:n.telegram||"",userName:n.userName,email:n.email,birthday:n.birthday,avatarUpload:!1},C=function(){var e=(0,r.Z)(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new FormData,S.forEach((function(e){if(n[e])if("birthday"!==e)r.append(e,n[e]);else{var a=d()(n[e]).format("YYYY-MM-DD");r.append("birthday",a)}})),j&&r.append("avatar",j),e.prev=3,e.next=6,a((0,u.Lj)(r));case 6:P.Notify.success("Success.Info updated."),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0),P.Notify.error("Error.Something gone wrong.");case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(a){return e.apply(this,arguments)}}();return(0,y.jsx)("section",{className:"".concat(g.user_page),children:(0,y.jsx)(p.J9,{initialValues:w,validationSchema:f,onSubmit:C,enableReinitialize:!0,children:function(a){return(0,y.jsxs)(p.l0,{children:[(0,y.jsxs)("div",{className:"".concat(g.user_page__avatar_container),children:[(0,y.jsx)("img",{className:"".concat(g.user_page__avatar),src:h||n.avatar||b,alt:"User Avatar"}),(0,y.jsxs)("div",{className:"".concat(g.avatar_upload_container),children:[(0,y.jsx)(p.gN,{id:"avatar-upload",name:"avatar",type:"file",accept:"image/*",onChange:function(e){return function(e,a){var n=e.target.files[0];Z(n);var r=new FileReader,t=new Blob([n],{type:n.type});r.readAsDataURL(t),r.onload=function(){v(r.result),a("avatar-upload",!!n)}}(e,a.setFieldValue)},style:{display:"none"}}),(0,y.jsx)("label",{htmlFor:"avatar-upload",className:"".concat(g.avatar_upload_btn)})]}),(0,y.jsx)("h3",{className:"".concat(g.user_page__name),children:n.userName||e("Username")}),(0,y.jsx)("p",{className:"".concat(g.user_page__role),children:e("User")})]}),(0,y.jsxs)("div",{className:"".concat(g.username_form),children:[(0,y.jsxs)("label",{htmlFor:"userName",className:"".concat(g.username_form__label),children:[e("Username"),(0,y.jsx)(p.gN,{name:"userName",type:"text",className:"".concat(g.username_form_input)+(a.errors.userName&&a.touched.userName?g.is_invalid:""),placeholder:e("User name")}),(0,y.jsx)(p.Bc,{name:"userName",component:"div",className:g.invalid_feedback})]}),(0,y.jsxs)("label",{htmlFor:"birthday",className:"".concat(g.username_form__label),children:[e("Birthday"),":",(0,y.jsx)(k,{name:"birthday",birthday:a.values.birthday,className:g.my_date_picker}),(0,y.jsx)(p.Bc,{name:"birthday",component:"div",className:g.invalid_feedback})]}),(0,y.jsxs)("label",{htmlFor:"email",className:"".concat(g.username_form__label),children:[e("Email Address"),(0,y.jsx)(p.gN,{name:"email",type:"email",className:"".concat(g.username_form_input)}),(0,y.jsx)(p.Bc,{name:"email",component:"div",className:g.invalid_feedback})]}),(0,y.jsxs)("label",{htmlFor:"phone",className:"".concat(g.username_form__label),children:[e("Phone"),":",(0,y.jsx)(p.gN,{className:"".concat(g.username_form_input),id:"phone",name:"phone",type:"text",placeholder:e("Enter your phone")}),(0,y.jsx)(p.Bc,{name:"phone",component:"div",className:g.invalid_feedback})]}),(0,y.jsxs)("label",{htmlFor:"telegram",className:"".concat(g.username_form__label),children:[e("Telegram"),":",(0,y.jsx)(p.gN,{className:"".concat(g.username_form_input),id:"telegram",name:"telegram",type:"text",placeholder:e("Enter your Telegram link")}),(0,y.jsx)(p.Bc,{name:"telegram",component:"div",className:g.invalid_feedback})]}),(0,y.jsx)("button",{type:"submit",className:"".concat(g.username_form__submit),disabled:a.isSubmitting||!a.touched||!a.dirty,children:e("Save \u0441hanges")})]})]})}})})};function w(){return(0,y.jsx)(Z,{})}}}]);
//# sourceMappingURL=464.2df2e642.chunk.js.map